<div class="container-fluid "  th:fragment="content">
    <div th:replace="/administrator/fragment/f-search :: search('management/customer/sales')"></div>
    
    <div class="row">
        <div class="col-lg-12">
        	<table class="table table-hover  table-striped">
				 	<thead>
				 		<tr>
				 			<th>ID</th>
				 			<th>CompanyName</th>
				 			<th>CustomerName</th>
				 			<th >CustomerType</th>
				 			<th>Login Email <br/>Password</th>
				 			<th>Company Email</th>
				 			<th>Phone<br/> Mobile</th>
				 			<th  onclick="colomnSort('status')" class="sort-colomn">Status</th>
<!-- 				 			<th>(Price*Discount)</th> -->
				 			<th>Create Time <br/>Modify Time</th>
				 			<th>Company Address
				 				<br/>
				 				Shipping Address
				 			</th>
				 			<th  onclick="colomnSort('balance')" class="sort-colomn">Balance</th>
				 			<th>Statement<br/>Commission</th>
				 		</tr>
				 		
				 	</thead>
				 		<tr th:each="customer :${customerList}">
				 			<td th:text="${customer.id}">
				 				ID
				 			</td>
				 			<td >
				 				<a  th:attr="data-pk=${customer.id}, data-url=|@{/management/customer/update/colomn/}|" data-name="companyName"  href="#"  class="edit-name"  th:text="${customer.companyName}" >companyName</a>
				 			</td>
				 			<td >
				 				<a  th:attr="data-pk=${customer.id}, data-url=|@{/management/customer/update/colomn/}|" data-name="name"  href="#"  class="edit-name"  th:text="${customer.name}" >name</a>
				 			</td>
				 			<td >
				 				<a  data-type="select" th:attr="data-pk=${customer.id}, data-url=|@{/management/customer/update/colomn/}|" data-name="customerType"  href="#"  class="customerType"  th:text="${customer.customerType}" >customerType</a>
				 			</td>
				 			<td >
				 				<a  th:attr="data-pk=${customer.id}, data-url=|@{/management/customer/update/colomn/}|" data-name="email"  href="#"  class="edit-name"  th:text="${customer.email}" >email</a>
				 				<br/>
				 				<a  th:attr="data-pk=${customer.id}, data-url=|@{/management/customer/update/colomn/}|" data-name="password"  href="#"  class="edit-name"  >********</a>
				 			</td>
				 			<td >
				 				<a  th:attr="data-pk=${customer.id}, data-url=|@{/management/customer/update/colomn/}|" data-name="companyEmail"  href="#"  class="edit-name"  th:text="${customer.companyEmail}" >companyEmail</a>
				 			</td>
				 			<td >
				 				<a  th:attr="data-pk=${customer.id}, data-url=|@{/management/customer/update/colomn/}|" data-name="phone"  href="#"  class="edit-name"  th:text="${customer.phone}" >phone</a>
				 				<br/>
				 				<a  th:attr="data-pk=${customer.id}, data-url=|@{/management/customer/update/colomn/}|" data-name="mobile"  href="#"  class="edit-name"  th:text="${customer.mobile}" >mobile</a>
				 			</td>
				 			<td >
				 				<a class="status" data-type="select" th:attr="data-pk=${customer.id}, data-url=|@{/management/customer/update/colomn/}|" data-name="status"  href="#"    th:text="${customer.status==0?'In-active': 'Active'}" >status</a>
				 			</td>
<!-- 				 			<td > -->
<!-- 				 				<a  th:attr="data-pk=${customer.id}, data-url=|@{/management/customer/update/colomn/}|" data-name="discount"  href="#"  class="edit-name"  th:text="${customer.discount}" >phone</a> -->
<!-- 				 			</td> -->
				 			<td >
				 				<span th:text="${#dates.format(customer.createTime, 'HH:mm dd/MM/yyyy')}"></span><br/>
				 				<span th:text="${#dates.format(customer.modifyTime, 'HH:mm dd/MM/yyyy')}"></span>
				 			</td>
				 			<td >
				 				<a  data-type="textarea" data-placement="bottom" th:attr="data-pk=${customer.id}, data-url=|@{/management/customer/update/colomn/}|" data-name="address"  href="#"  class="edit-name"  th:text="${customer.address}" >address</a>
				 				<br/>
				 				<a   data-type="textarea" data-placement="bottom" th:attr="data-pk=${customer.id}, data-url=|@{/management/customer/update/colomn/}|" data-name="shippingAddress"  href="#"  class="edit-name"  th:text="${customer.shippingAddress}" >shippingAddress</a>
				 			</td>
				 			<td >
<!-- 				 				<a  th:attr="data-pk=${customer.id}, data-url=|@{/management/customer/update/colomn/}|" data-name="balance"  href="#"  class="edit-name"  th:text="${customer.balance}" >balance</a> -->
				 				<span th:text="${customer.balance}" >Balance</span>
				 			</td>
				 			<td >
				 				<a href="javascript:void(0)" th:href="|@{/management/customer/statement/}${customer.id}|" title="Statement" target="_blank" >
				 					<span class="fa-stack" >
									  <i class="fa fa-square-o fa-stack-2x"></i>
									  <i class="fa fa-file-text-o fa-stack-1x"></i>
									</span></a>
								
								<a href="javascript:void(0)" th:href="|@{/management/customer/sales/commission/}${customer.id}|" title="Commisssion" target="_blank" >
				 					<span class="fa-stack" >
									  <i class="fa fa-square-o fa-stack-2x"></i>
									  <i class="fa fa-dollar fa-stack-1x"></i>
									</span>
								</a>
				 			</td>
				 		</tr>
				 		
				 		<tr >
				 			<td colspan="13" align="right">
				 				<div th:replace="/administrator/fragment/f-page :: page"></div>
				 			</td>
				 		</tr>
				</table>
        </div>
    </div>
    
     <style>
    	.sort-colomn{
    		cursor: pointer;
    		color: #c05a22;
    	}
    	
    </style>
     <script src="static/plugin/editable/js/bootstrap-editable.min.js"  
     	type="text/javascript" th:src="@{/static/plugin/editable/js/bootstrap-editable.min.js}"
		charset="utf-8"></script>
		
		
		<script type="text/javascript" th:inline="javascript">
		/*<![CDATA[*/
		           //
			$('.edit-name').editable();

			$('.status').editable({
		        value: -1,    
		        source: [
		              {value: 0, text: 'In-active'},
		              {value: 1, text: 'Active'},
		           ]
		    });
			$('.customerType').editable({
		        value: "",    
		        source: [
		              {value: "", text: '--select--'},
		              {value: 'customer', text: 'customer'},
		              {value: 'sales', text: 'sales'},
		           ]
		    });
			
			/**
			**/
			function email(customerId,dateFrom,dateTo){
				if(!confirm("Confirm ?")){
					return;
				}
				$.ajax({
					url:[[@{/management/customer/statement/pdf/email/}]] + customerId +  "?dateFrom="+dateFrom + "&dateTo=" + dateTo,
					method: "GET",
					data:{
					}
				}).done(function(ret){
					if(ret=='true'){
						alert("Success.");
					}else{
						alert(ret);
					}
				});
			}
		
			
		/*]]>*/	
	</script>
</div>